:host {
    --main-color: #2563eb;   /* timeline */
    --pane-bg:   #f8fafc;     /* fond clair panneau */
    --card-bg:   #ffffff;     /* carte */
    --text:      #0f172a;     /* texte principal */
    --muted:     #6b7280;     /* texte secondaire */
    --border:    #e5e7eb;     /* bordures */
    display: block;
}

/* PANE */
.pending-pane {
    background: var(--pane-bg);
    border: 1px solid var(--border);
    border-radius: 14px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    min-height: 360px;
    max-height: 70vh;
    max-width: 1000px;
    margin: 3rem auto auto;
}

/* HEADER sticky */
.pane-header {
    position: sticky; top: 0; z-index: 2;
    background: linear-gradient(180deg, #fff, #fff0);
    backdrop-filter: saturate(1.2) blur(4px);
    padding: 12px 16px;
    border-bottom: 1px solid var(--border);

    .title {
        display: flex; align-items: center; gap: 10px;
        h2 { margin: 0; font: 600 16px/1.2 system-ui; color: var(--text); }
        mat-icon { font-size: 20px; height: 20px; width: 20px; color: var(--main-color); }
        .count-badge {
            margin-left: auto; font: 600 12px/1 system-ui; color: #1f2937;
            background: #eef2ff; border: 1px solid #c7d2fe; padding: 4px 8px; border-radius: 999px;
        }
    }
}

/* BODY scroll */
.pane-body { overflow: auto; padding: 10px 12px 14px; }

/* EMPTY / LOADING */
.loading { padding: 12px 16px; }
.empty {
    border: 1px dashed var(--border); border-radius: 12px; background: #fff;
    padding: 24px; text-align: center; color: #4b5563;
    display: grid; place-items: center; gap: 8px;
    mat-icon { opacity: .7; }
}

/* LIST + CARD */
.list { display: grid; gap: 12px; }

.card {
    background: var(--card-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 0;

    .header {
        padding: 12px 14px;
        display: grid;
        grid-template-columns: 1fr auto 36px;
        align-items: center; gap: 10px; cursor: pointer;

        .left {
            display: grid; gap: 6px;

            .route {
                display: inline-flex; align-items: center; gap: 8px;
                font-weight: 600; color: #111827;
                .from, .to { max-width: 280px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
                .arrow { font-size: 18px; width: 18px; height: 18px; opacity: .75; }
            }

            .meta-row {
                display: flex; align-items: center; gap: 8px; flex-wrap: wrap;
            }
        }

        .right { min-width: 320px; display: flex; justify-content: flex-end; }
        .expand-btn { margin-right: -4px; }
    }

    .body {
        padding: 12px 14px 16px; border-top: 1px solid var(--border);

        .details { display: grid; gap: 6px; color: #374151; b { color: #111827; } }
        .veh-detail { margin-top: 4px; }
    }
}

/* Badges statut */
.status-badge {
    font: 600 11px/1 system-ui;
    padding: 4px 8px;
    border-radius: 999px;
    border: 1px solid transparent;
    background: #eef2ff; color: #1f2937; border-color: #c7d2fe;

    &.is-pending   { background: #fff8e6; color: #8a5b00; border-color: #f6d98b; }
    &.is-confirmed { background: #ecfdf5; color: #065f46; border-color: #a7f3d0; }
    &.is-rejected  { background: #fef2f2; color: #991b1b; border-color: #fecaca; }
    &.is-cancelled { background: #f3f4f6; color: #374151; border-color: #e5e7eb; }
}

/* Chip v√©hicule */
.vehicle-chip {
    display: inline-flex; align-items: center; gap: 6px;
    padding: 4px 8px; border-radius: 999px;
    background: #f1f5f9; color: #0f172a; border: 1px solid #e2e8f0;
    mat-icon { font-size: 16px; width: 16px; height: 16px; opacity: .9; }
}

/* ====== TIMELINE ====== */
.period-ticket {
    display: flex; align-items: center; gap: 20px; padding: 0; position: relative;
}
.period-side {
    min-width: 90px; display: flex; flex-direction: column; line-height: 1.15;
    &.start { align-items: flex-end; }
    &.end   { align-items: flex-start; }
    .date { color: #7e7e7e; font-size: 12px; }
    .time { margin-top: 4px; font-size: 15px; font-weight: 500; color: #0f172a; letter-spacing: .2px; }
}
.timeline {
    display: flex; align-items: center; flex: 1 1 auto; height: 18px; position: relative;
    .bar {
        display: block; flex: 1 1 auto; width: 100px; height: 3px; border-radius: 999px;
        background: linear-gradient(90deg, #c8d9ff 0%, #8bb1ff 100%);
        box-shadow: inset 0 0 0 1px rgba(69, 107, 189, 0.08);
    }
    .dot { width: 10px; height: 10px; border-radius: 50%; background: var(--main-color); position: relative;
        &.start { left: 2px; }
        &.end   { right: 2px; }
    }
    .duration {
        position: absolute; left: 50%; transform: translateX(-50%);
        font-size: 12px; font-weight: 600; color: #2b3a42;
        background: #f7faff; border: 1px solid #e6efff;
        border-radius: 50px; padding: 1px 4px; white-space: nowrap;
    }
}

/* Responsive : masque la timeline si peu de place */
@media (max-width: 920px) {
    .card .header { grid-template-columns: 1fr 36px; .right { display: none; } }
}
