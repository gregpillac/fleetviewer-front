<div class="login-wrapper">
  <div class="logo">
    <svg-icon src="/fleetviewer/fleetviewer_offbeat.svg" svgClass="fleetviewer-svg"></svg-icon>
  </div>

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <!-- Champ Nom d'utilisateur -->
    <div class="field">
      <label for="username">Nom d'utilisateur</label>
      <input id="username" formControlName="username" required />

      <!-- Message d'erreur si champ vide -->
      <div *ngIf="loginForm.controls['username'].hasError('required') && loginForm.controls['username'].touched" class="error">
        Le nom d'utilisateur est requis
      </div>
    </div>

    <!-- Champ Mot de passe -->
    <div class="field">
      <label for="password">Mot de passe</label>
      <div class="password-field">
        <input
          [type]="showPassword ? 'text' : 'password'"
          id="password"
          formControlName="password"
          required
        />
        <button type="button" (click)="togglePasswordVisibility()" class="eye-toggle">
          {{ showPassword ? '🙈' : '👁️' }}
        </button>
      </div>

      <!-- Message d'erreur si champ vide -->
      <div *ngIf="loginForm.controls['password'].hasError('required') && loginForm.controls['password'].touched" class="error">
        Le mot de passe est requis
      </div>
    </div>

    <!-- Bouton de soumission -->
    <button type="submit">Connexion</button>

    <!-- Message d'erreur global -->
    <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
  </form>
</div>
