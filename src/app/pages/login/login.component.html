<div class="login-page">
    <div class="login-wrapper">
        <div class="login-form">
            <div class="logo">
                <svg-icon src="/_static/fleetviewer/fleetviewer_compact.svg" svgClass="fleetviewer-svg"></svg-icon>
            </div>

            <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
                <!-- Champ Nom d'utilisateur -->
                <div class="field">
                    <label for="username">Nom d'utilisateur</label>
                    <input id="username" formControlName="username" required />

                    <!-- Message d'erreur si champ vide -->
                    <div *ngIf="loginForm.controls['username'].hasError('required') && loginForm.controls['username'].touched" class="error">
                        Le nom d'utilisateur est requis
                    </div>
                </div>

                <!-- Champ Mot de passe -->
                <div class="field">
                    <label for="password">Mot de passe</label>
                    <div class="password-field">
                        <input
                            [type]="showPassword ? 'text' : 'password'"
                            id="password"
                            formControlName="password"
                            required
                        />
                        <button type="button" (click)="togglePasswordVisibility()" class="eye-toggle">
                            {{ showPassword ? 'üôà' : 'üëÅÔ∏è' }}
                        </button>
                    </div>

                    <!-- Message d'erreur si champ vide -->
                    <div *ngIf="loginForm.controls['password'].hasError('required') && loginForm.controls['password'].touched" class="error">
                        Le mot de passe est requis
                    </div>
                </div>

                <!-- Message d'erreur global -->
                <p class="error" *ngIf="errorMessage">{{ errorMessage }}</p>
                <button class="btn-submit" type="submit">Connexion</button>

                <!-- Si besoin d'aide -->
                <a class="not-working" routerLink="/contact">Un probl√®me de connexion ?</a>
            </form>
        </div>
        <div class="login-info">
            <div class="login-info-hero" role="complementary" aria-label="Pr√©sentation de la plateforme">
                <div class="login-info-content">
                    <h1>G√©rez votre flotte en toute simplicit√©</h1>
                    <p class="tagline">
                        Plateforme d√©di√©e aux entreprises : r√©servez des v√©hicules, suivez l‚Äôactivit√© et administrez votre parc en un seul endroit.
                    </p>

                    <ul class="benefits" aria-label="Fonctionnalit√©s cl√©s">
                        <li>R√©servation de v√©hicules d‚Äôentreprise</li>
                        <li>Suivi et optimisation de l‚Äôutilisation</li>
                        <li>Administration et gestion centralis√©e de la flotte</li>
                    </ul>

                    <div class="cta-row">
                        <a class="btn btn-primary" routerLink="/formules">Voir nos formules</a>
                        <a class="btn btn-secondary" routerLink="/contact">Nous contacter</a>
                    </div>

                    <p class="notice" role="note">
                        Acc√®s r√©serv√© aux utilisateurs disposant d‚Äôidentifiants fournis par leur entreprise.
                    </p>
                </div>
            </div>

        </div>
    </div>
</div>
